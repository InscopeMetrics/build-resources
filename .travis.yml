cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/.jdk"
sudo: false
env:
  global:
  - TARGET=install
  - JDKW=https://raw.githubusercontent.com/vjkoskela/jdk-wrapper/master/jdk-wrapper.sh
  - secure: cp4GRqZaBPeg7JSGYDdUuJLMuLznNb8DspNc4V/ukM+CMkgvXGz2m2iER/zxv6rZuonDEFEJ3A8T4NAmfPKh/FBjUkT/1TZcXbUHCs3aEBowTJDkBkucZUlyDhsf9r2kaaUqiscowokjjnfeEhNdwFhK51qjrzYq1I3di3CWO0Lve8Asywot7a+fYaOs0GW4DaFSLNBuXeVE3aoaMglZh/OZm8Cf6AMlDyH8glS2nVLwuW1zv7/UyHzhhjD/oA3eqQRNrCRlVBycKN1SJcP5FTooaluZ53eUjzt32HbYlMJwhQA2C7YQHJwA75AG+RO0e8nkbxjAQvQexA0cZqWw/bEmWl1SEbHoejTHKBmVAyNpYSCnC5pF0bgiocZtWpS1zaDixER8rIkDBVrsiztcvxD3nOPqQoKXTSrsIyDeiErFoTrIWKrug2trtxXnDwsp5cXosnibZpbLHVcCkx27E8aYaorn9hFp+wTig1H6Towh+LtaTTIKUqPIb4BIwRxAq2YaESO2kmlt8a9VA1JCdE6i7f82okBlo2ROBlIE7jssbeTAMcaC+VGQPM67OREJ9gSetl67ncEGin54iN05xwT87CDEu3Rg8yG/PJPBn5FzL5yPL98iHnyXesdGcngAGf0P8JrtTThFZs2PzdYuPezOt0TohrBud40xg/0jD2w=
  - secure: AMTGDWmQ/2bhKB9Je4CuhP32XUOzl2vYs/IPvHsjYaUMLB/slhjeljBFLB1eURqR3tZPDNCOA+9TfwUIQJnK1hGNGYxkHPOKC6PN66PawLThzSLxiSKecdMriOMpdeubAO1C3YLlHIO8awt2aCDLE25oDQYScUSSwYEaUIK0JL0sP6LWkVAPCjcBXy2U1BRUHHovIDw8dNNbusUjPbctfHNy+gJPkP6Q8aZs5kfELeXsUq1xfKugxWT0zWW3dE1xr9hhUCv8JBHIuib4pv7HrqGPHLFqTL4LgkrWurabWe4NPcj1wWcrNz8TvU3npt2DjIjqKD8HoO5t0R01ocvn4rUZwJGuO2/vOgSP05VqECqVUgiU2PIO/f4bM4QPfOva/bI/gIjlrljol9b0EzVKFRE/oAXogAvzMH6yDu6F5ABWe2WMZtTl6ja3gPSn31kOu9k5lVlCyhzdniFbxDX/a7zCTbm1E6DMTqu6X3NUkiyM6/Ec8gVSun8Gsos8ZnCY0zwsjUUpjUogFTMwWO10VhgMwDldWBAOQR93BIb6NYZxYmAj3xM5Rg6S4vIEsxWP5eLdLgf/3s6Xbrhlmx4jOTHpx7jI3usMmVhctKblIULEn6GND08ZEOdjQ7MhJAfUgkbED4C77LFXiLyCRYlQYt/l7ox28hq245BuJRhGivU=
  - secure: FimS9ayuLPiHiGDIfXyvx2WCKtiOZ7CS04HOLd5pYvpklKZH2AoRHx1GNlt5XstvQbUNY6s97bLH6qRoMnBtgE5lkG5M0wX9HSYPhTyFuZYiaAJIhRtv3cy9JmX43iIRyuIlWYNnAnil/d4DXNbOibG/Faevefvrw1iIsYMIrsiKoAPm2z8tGUXLbTWEoahnmFIjsyI82kLP3Fz3/Ksv8TJjRMYXd2MXsG4VDcsrsLW+5fLR44FZH/ZpKID6aFOurKlg0to7ilhjOBDaVohjDe0XIoVoF8QFvFgDp8Uqv4/S169LMv2duId5hr8K/SJ0e0w4hqdUYXOpyW062g8EjAf0dWrpbpLyaEq4R24dgxwJFw72f/ZjWZBvrk069LGydH1lTO737quCQUjwNLeEFOIBKT9JwzrQBL/xOkye/KUHM+OU07GVBSmOh1R+fMIP12bxIwi6oUOgn52wlHJCOAYrNKgrE07LKR/A2kISR6ClonHNvxDp/hvXjJwobT6xN95faxemTwrAxxCCOvaLPRCBxyQm3L/uull/01WjKF8VZnNDiRLBm72xfykFJ5H0Z/Z/jmerYNAkauo9ckHnc7QNErijCNABGyDSPwzT7uSgjCQ0KbF+3DI4NkpKIHHET3LDDEILCRE58dzZiSz8/4zef2erlftA68VAiT48bp4=
install: true
before_script:
- gpg --import ism.key
- if [ \( -n "${TRAVIS_TAG}" \) -a  "${TRAVIS_PULL_REQUEST}" = "false" ]; then export TARGET="deploy -P release --settings settings.xml"; fi;
script:
- curl -s ${JDKW} | bash /dev/stdin ./mvnw clean ${TARGET} -U
