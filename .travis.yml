cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/.jdk"
sudo: false
env:
  global:
  - TARGET=install
  - JDKW=https://raw.githubusercontent.com/vjkoskela/jdk-wrapper/master/jdk-wrapper.sh
  - secure: FimS9ayuLPiHiGDIfXyvx2WCKtiOZ7CS04HOLd5pYvpklKZH2AoRHx1GNlt5XstvQbUNY6s97bLH6qRoMnBtgE5lkG5M0wX9HSYPhTyFuZYiaAJIhRtv3cy9JmX43iIRyuIlWYNnAnil/d4DXNbOibG/Faevefvrw1iIsYMIrsiKoAPm2z8tGUXLbTWEoahnmFIjsyI82kLP3Fz3/Ksv8TJjRMYXd2MXsG4VDcsrsLW+5fLR44FZH/ZpKID6aFOurKlg0to7ilhjOBDaVohjDe0XIoVoF8QFvFgDp8Uqv4/S169LMv2duId5hr8K/SJ0e0w4hqdUYXOpyW062g8EjAf0dWrpbpLyaEq4R24dgxwJFw72f/ZjWZBvrk069LGydH1lTO737quCQUjwNLeEFOIBKT9JwzrQBL/xOkye/KUHM+OU07GVBSmOh1R+fMIP12bxIwi6oUOgn52wlHJCOAYrNKgrE07LKR/A2kISR6ClonHNvxDp/hvXjJwobT6xN95faxemTwrAxxCCOvaLPRCBxyQm3L/uull/01WjKF8VZnNDiRLBm72xfykFJ5H0Z/Z/jmerYNAkauo9ckHnc7QNErijCNABGyDSPwzT7uSgjCQ0KbF+3DI4NkpKIHHET3LDDEILCRE58dzZiSz8/4zef2erlftA68VAiT48bp4=
  - secure: Q2FlfpcOZy3P0XSBZxiHwwue2KymN64RG2x0v5oLAV9a8CzrQ6u0AkHb40x0MPsPrDC+EoMKozNwIuOomWQr02WJw96fJ/5m0gftpZPrCJ15X08mIleJV/RxwhDZPfTgxaZ6s3DnmDo8EIfTjCFq2oJMR82v2afVqXrQohS0h08yTFPioPPp5fdRg5cjoGFFkgx55/V9HrxFcTnt94ZrKJ/aCmHi5uKX7pdCz91e/EwFuZPSDicZ7ZCyTwklfow+3xAyMBVPFRyZf7gqCDYMDglc/P5QaFpKHt4RNBls9kpILFyQCJjJZy2lM03T973b3IH5RK/lR82UI2zFub22gntANrOkvnvqAmWRie84PbWgK1ApGaJ1BOwGS2DGQu1bzjHedcNDg2XWmmI1DeOSrHOytgCz5D5ekFwmlgLTN/+GjmkzZUm/STwgmhlOuzp2NI3zZY4u2X4BjiuF5uFHCUxwUplNJxA5wQZiNI1eCCVQjJbGU/wvpmpRCC8Bj8Gy92kdtp6rNNPfl72JU4+u25WZdFqAZhi+EbBU3NVM2VCMeFzyAwyx2ObpC5KC/eim146tfQ0hqHyiGwdG/DswDlNyB53axv8UrKtMKxhEwbQueWf80MO15EdO/Yza8HtNcepeyMi7bGyrJMzMbReLlraX7rCHYRvy+f8IbypgJOM=
  - secure: LcFVrMxaXZDJ57rOzC3Pg6NQBQ66pNIL8E17yG64JgQ4A2F6UoJj3xXBOy79k/53QQR5PozCM2Ew6xRj5a0TL6Fu/ghgF3pXQy72FNbkUYaQb4Ccy6E/yJ4pXVxcB5KT5Zp4DbWvOd8TyczH8n7ijsE8ToZgHKiw/SqUrBUy1Q8ouwfsPhhWZfsS1z2W2oPN9YcPWGL6WrCN4GcAYpH/79vEITBVqu2n+PQRdotrklIIFF7DB+WujiITs78HLFkmph5Z6813/v3SBqkguiVhAnJwQN+JnuFejzh0OMEVknF/UTyfTuscI2n6tq1a/X0Nw1OF50qltocdKCbGfGeGbLpVguoZPdnXRuOjf9Gv6AvxP2d+ZzWfBQDzG3gLxJDntPft7S01hU1CcgJBqwepXNbvdbbnMuc29MDiiG77RLk4H6fi+W4TKojiEkcen0umAC3lCIxQ13U1z62PLWkoymjnMkHc2DYsG9mBbRq6fyM0YFVinBNyhhUwAzdWltG9vvGKHE6Xbb1r7s3sCAdSIGT3ZnkFmXkFLvtGQobQxyaf2q2FX+HJ31mHF4MdNh6o6NEEbCG6qzYYkVLwKV020h9RwDbnP+0NNXr1ZksAJdFTnEiB2QE76Uo7tAOInevEbwObM/5pI6FfT7AKBfxRYubo4RARwzg42z+UEXIrv2Y=
install: true
before_script:
- gpg --import ism.key
- if [ \( -n "${TRAVIS_TAG}" \) -a  "${TRAVIS_PULL_REQUEST}" = "false" ]; then export TARGET="deploy -P release --settings settings.xml"; fi;
script:
- curl -s ${JDKW} | bash /dev/stdin ./mvnw clean ${TARGET} -U
